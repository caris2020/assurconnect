# 📝 Guide des Demandes d'Accès aux Rapports

## 🎯 **Deux Workflows Disponibles**

Il y a maintenant **deux façons** d'accéder aux rapports selon votre situation :

### **1. 📝 Demande d'Accès (Nouveau)**
Pour demander un code temporaire à l'administrateur.

### **2. 🔐 Télécharger avec Code (Direct)**
Pour télécharger directement si vous avez déjà un code.

## 🔄 **Workflow 1 : Demande d'Accès à l'Admin**

### **Étape 1 : Faire la Demande**
1. **Cliquer sur "📝 Demande d'accès"** sur une carte de rapport
2. **Remplir le formulaire** :
   - Demandeur : Votre nom (pré-rempli)
   - Email : Votre email
   - Compagnie : Votre entreprise
   - Téléphone : Votre numéro (optionnel)
   - Motif : Expliquer pourquoi vous avez besoin du rapport
3. **Cliquer "Faire la demande"**

### **Étape 2 : Attendre l'Approbation**
1. **L'administrateur reçoit** votre demande
2. **Il examine** votre demande et votre motif
3. **Il approuve ou rejette** votre demande
4. **Si approuvée**, il génère un code temporaire

### **Étape 3 : Recevoir le Code**
1. **Vous recevez** le code par email/SMS
2. **Le code est valide** 24 heures
3. **Format** : XXX-XXX-XXX (ex: GLAN-123-456)

### **Étape 4 : Télécharger avec le Code**
1. **Cliquer sur "🔐 Télécharger avec code"**
2. **Saisir le code** reçu
3. **Valider le code**
4. **Télécharger le rapport**

## ⚡ **Workflow 2 : Téléchargement Direct avec Code**

### **Si vous avez déjà un code :**
1. **Cliquer sur "🔐 Télécharger avec code"**
2. **Saisir votre code** temporaire
3. **Cliquer "🔐 Valider le Code"**
4. **Cliquer "📥 Télécharger"**

## 📋 **Interface des Boutons**

### **Pour les Utilisateurs Non-Propriétaires :**
```
┌─────────────────────────────────────┐
│ [Prévisualiser] [📝 Demande d'accès] │
│ [🔐 Télécharger avec code] [📎 —]   │
└─────────────────────────────────────┘
```

### **Pour le Propriétaire du Rapport :**
```
┌─────────────────────────────────────┐
│ [Prévisualiser] [Télécharger]       │
│ [📎 Fichiers]                      │
└─────────────────────────────────────┘
```

## 🎯 **Quand Utiliser Chaque Workflow**

### **📝 Demande d'Accès** (Nouveau)
- ✅ **Première fois** que vous demandez ce rapport
- ✅ **Vous n'avez pas** de code temporaire
- ✅ **Vous voulez** expliquer votre motif d'accès
- ✅ **Processus administratif** requis

### **🔐 Télécharger avec Code** (Direct)
- ✅ **Vous avez déjà** un code temporaire
- ✅ **Code reçu** par email/SMS
- ✅ **Accès rapide** sans nouvelle demande
- ✅ **Code valide** (24 heures)

## 📧 **Exemple de Demande d'Accès**

### **Formulaire à remplir :**
```
📋 Rapport : DOSSIER GLAN
👤 Demandeur : Jean Dupont
📧 Email : jean.dupont@entreprise.com
🏢 Compagnie : Entreprise ABC
📱 Téléphone : +225 0123456789
💬 Motif : Analyse des risques pour notre client
```

### **Réponse de l'admin :**
```
✅ Demande approuvée
🔐 Code temporaire : GLAN-123-456
⏰ Valide jusqu'au : 24/08/2025 14:33
```

## 🐛 **Dépannage**

### **La demande n'est pas envoyée ?**
- ✅ Vérifier que tous les champs sont remplis
- ✅ Vérifier la connexion internet
- ✅ Vérifier que le backend est démarré

### **Pas de réponse de l'admin ?**
- ✅ Vérifier votre email (spam inclus)
- ✅ Contacter l'administrateur directement
- ✅ Vérifier le statut de votre demande

### **Le code ne fonctionne pas ?**
- ✅ Vérifier le format : XXX-XXX-XXX
- ✅ Vérifier l'expiration (24 heures)
- ✅ Vérifier que le code n'a pas déjà été utilisé

## 🎯 **Résumé**

- **📝 Demande d'accès** : Pour obtenir un nouveau code
- **🔐 Télécharger avec code** : Pour utiliser un code existant
- **Télécharger** : Pour le propriétaire du rapport

---

**🎉 Maintenant vous avez deux options pour accéder aux rapports !**
